(function(b){b.fn.dice=function(a){var d=this,e={setTo:function(a){var c;switch(a){default:case 1:c=a=0;break;case 2:a=80;c=0;break;case 3:a=40;c=0;break;case 4:c=a=40;break;case 5:a=80;c=40;break;case 6:a=0,c=40}b(d).css("backgroundPosition",a+"px "+c+"px")},juggle:function(){var f=b(d).css("z-index");b(d).css("z-index",1).animate({"z-index":a.juggleTimeout},{duration:a.juggleTimeout,step:function(a){e.setTo((parseInt(a)%6||Math.random()*6)+1)}});b(d).css("z-index",f);window.setTimeout(b.noop,a.juggleTimeout)}},
a=b.extend({background:"#ffffff",callback:null,glyphSize:40,glyphSrc:"dice.gif",juggleTimeout:300,number:1},a);b(this).css({background:a.background+" url("+a.glyphSrc+")",height:a.glyphSize,width:a.glyphSize});b(this).click(function(){e.juggle();a.number=Math.floor(Math.random()*2011)%6+1;b(this).stop();e.setTo(a.number);a.callback&&typeof a.callback==="function"&&a.callback(a.number)});b(this).click()}})(jQuery);
